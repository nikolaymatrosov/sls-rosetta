pandora:
  enabled: true
  package: yandextank.plugins.Pandora
  config_content:
    pools:
      - id: HTTP
        gun:
          type: http/scenario
          target: "functions.yandexcloud.net:443"
          ssl: true
        ammo:
          type: http/scenario
          file: ./ammo.hcl
        result:
          type: phout
          destination: ./phout.log
        rps:
          - duration: 10s # Время теста.
            type: step # Тип нагрузки.
            from: 100
            to: 5000
            step: 250
        startup:
          type: once
          times: 100 # Количество тестирующих потоков.
    log:
      level: error
    monitoring:
      expvar:
        enabled: true
        port: 1234
autostop: # Автостоп.
  enabled: true
  package: yandextank.plugins.Autostop
  autostop:
    - quantile(75,100ms,10s) # Завершение теста, если в течение 10 секунд 75 процентиль
      # превысит 100 миллисекунд (в течение 10 секунд время
    # обработки 25% запросов превысит 100 миллисекунд).
    - instances(90%,60s)  # Завершение теста, если в течение 60 секунд будет занято
    # 90% тестирующих потоков.
core: {}
uploader:
  enabled: true
  package: yandextank.plugins.DataUploader
  job_name: '[example][pandora][step]'
  job_dsc: 'example'
  ver: '0.5.5'
  api_address: loadtesting.api.cloud.yandex.net:443
